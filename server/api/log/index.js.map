{"version":3,"sources":["api/log/index.js"],"names":["controller","auth","router","get","isAuthenticated","index","show","post","create","put","hasRole","upsert","patch","delete","destroy","module","exports"],"mappings":"AAAA;;AAEA;;AACA;;IAAYA,U;;AACZ;;IAAYC,I;;;;AAEZ,IAAIC,SAAS,qBAAb;;AAEAA,OAAOC,GAAP,CAAW,GAAX,EAAgBF,KAAKG,eAAL,EAAhB,EAAwCJ,WAAWK,KAAnD;AACAH,OAAOC,GAAP,CAAW,MAAX,EAAmBF,KAAKG,eAAL,EAAnB,EAA2CJ,WAAWM,IAAtD;AACAJ,OAAOK,IAAP,CAAY,GAAZ,EAAiBN,KAAKG,eAAL,EAAjB,EAAyCJ,WAAWQ,MAApD;;AAEA;AACAN,OAAOO,GAAP,CAAW,MAAX,EAAmBR,KAAKS,OAAL,CAAa,OAAb,CAAnB,EAA0CV,WAAWW,MAArD;AACAT,OAAOU,KAAP,CAAa,MAAb,EAAqBX,KAAKS,OAAL,CAAa,OAAb,CAArB,EAA4CV,WAAWY,KAAvD;AACAV,OAAOW,MAAP,CAAc,MAAd,EAAsBZ,KAAKS,OAAL,CAAa,OAAb,CAAtB,EAA6CV,WAAWc,OAAxD;;AAEAC,OAAOC,OAAP,GAAiBd,MAAjB","file":"index.js","sourcesContent":["'use strict';\r\n\r\nimport {Router} from 'express';\r\nimport * as controller from './log.controller';\r\nimport * as auth from '../../auth/auth.service';\r\n\r\nvar router = new Router();\r\n\r\nrouter.get('/', auth.isAuthenticated(), controller.index);\r\nrouter.get('/:id', auth.isAuthenticated(), controller.show);\r\nrouter.post('/', auth.isAuthenticated(), controller.create);\r\n\r\n// Logs are not supposed to be deleted/edited or patched except for admin  \r\nrouter.put('/:id', auth.hasRole('admin'), controller.upsert);\r\nrouter.patch('/:id', auth.hasRole('admin'), controller.patch);\r\nrouter.delete('/:id', auth.hasRole('admin'), controller.destroy);\r\n\r\nmodule.exports = router;\r\n"]}